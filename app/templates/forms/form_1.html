{% load widget_tweaks %}
{% load get_field_classes %}

{% for hidden_field in form.hidden_fields %}
  {{ hidden_field }}
{% endfor %}

{{ form.non_field_errors }}
{% for hidden_field in form.hidden_fields %}
  {{ hidden_field.errors }}
  {{ hidden_field }}
{% endfor %}

{% for field in form.visible_fields %}
  <div>
    {% with field_classes=field|get_field_classes %}
      {{ field|add_class:field_classes }}
    {% endwith %}
  </div>
{% endfor %}
